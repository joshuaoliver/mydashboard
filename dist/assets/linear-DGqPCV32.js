import{e as x,c as g,d as j,j as e,L as n,C as a,f as o,i as r,l as i,k as c}from"./index-BiTP6UeF.js";import{u as y}from"./useSuspenseQuery-BI5dw9cZ.js";import{B as p}from"./button-RNOw0Kg4.js";import{B as N}from"./badge-Djmg-4jD.js";import{A as b}from"./arrow-left-D4PirhN6.js";import{L as m}from"./layout-list-C8JU_Wy5.js";import{S as u}from"./settings-wuATwRYX.js";import{C as f}from"./circle-alert-c2HjJ2Ls.js";import{E as _}from"./external-link-DQ7xCNxh.js";import"./index-eoGaCaxS.js";const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],w=x("circle-arrow-down",T);const A=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],k=x("circle-arrow-up",A);const D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],v=x("circle-minus",D);const I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d=x("circle",I);function V(){const{data:L}=y(g(j.linearSync.getIssuesByWorkspace,{})),{data:s}=y(g(j.linearSync.getStats,{})),C=(s?.totalWorkspaces??0)>0,h={0:{icon:v,color:"text-gray-400",label:"No Priority"},1:{icon:f,color:"text-red-500",label:"Urgent"},2:{icon:k,color:"text-orange-500",label:"High"},3:{icon:d,color:"text-yellow-500",label:"Medium"},4:{icon:w,color:"text-blue-500",label:"Low"}},S={backlog:"bg-gray-100 text-gray-700",unstarted:"bg-gray-100 text-gray-700",started:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700",canceled:"bg-red-100 text-red-700"};return C?e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(n,{to:"/stats",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"Back to Stats"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"w-8 h-8 text-purple-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Linear Tasks"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[s?.totalIssues," open issues across ",s?.totalWorkspaces," workspace(s)"]})]})]}),e.jsx(n,{to:"/settings/linear",children:e.jsxs(p,{variant:"outline",size:"sm",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Settings"]})})]})]}),s&&e.jsxs("div",{className:"grid gap-4 md:grid-cols-5 mb-6",children:[e.jsx(a,{className:s.byPriority.urgent>0?"border-red-200 bg-red-50":"",children:e.jsxs(r,{className:"pb-2",children:[e.jsxs(i,{className:"flex items-center gap-1",children:[e.jsx(f,{className:"w-4 h-4 text-red-500"}),"Urgent"]}),e.jsx(c,{className:"text-2xl text-red-600",children:s.byPriority.urgent})]})}),e.jsx(a,{className:s.byPriority.high>0?"border-orange-200 bg-orange-50":"",children:e.jsxs(r,{className:"pb-2",children:[e.jsxs(i,{className:"flex items-center gap-1",children:[e.jsx(k,{className:"w-4 h-4 text-orange-500"}),"High"]}),e.jsx(c,{className:"text-2xl text-orange-600",children:s.byPriority.high})]})}),e.jsx(a,{children:e.jsxs(r,{className:"pb-2",children:[e.jsxs(i,{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-4 h-4 text-yellow-500"}),"Medium"]}),e.jsx(c,{className:"text-2xl",children:s.byPriority.medium})]})}),e.jsx(a,{children:e.jsxs(r,{className:"pb-2",children:[e.jsxs(i,{className:"flex items-center gap-1",children:[e.jsx(w,{className:"w-4 h-4 text-blue-500"}),"Low"]}),e.jsx(c,{className:"text-2xl",children:s.byPriority.low})]})}),e.jsx(a,{children:e.jsxs(r,{className:"pb-2",children:[e.jsxs(i,{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-4 h-4 text-gray-400"}),"No Priority"]}),e.jsx(c,{className:"text-2xl text-gray-500",children:s.byPriority.none})]})})]}),s&&e.jsxs(a,{className:"mb-6",children:[e.jsx(r,{children:e.jsx(c,{children:"By Status"})}),e.jsx(o,{children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),e.jsxs("span",{className:"text-sm",children:["Backlog: ",s.byStatusType.backlog]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-500"}),e.jsxs("span",{className:"text-sm",children:["Todo: ",s.byStatusType.unstarted]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsxs("span",{className:"text-sm",children:["In Progress: ",s.byStatusType.started]})]})]})})]}),L.map(l=>e.jsxs(a,{className:"mb-6",children:[e.jsx(r,{children:e.jsxs(c,{className:"flex items-center justify-between",children:[e.jsx("span",{children:l.workspaceName}),e.jsxs(N,{variant:"outline",children:[l.issues.length," issues"]})]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-3",children:l.issues.length===0?e.jsx("p",{className:"text-sm text-gray-500 py-4 text-center",children:"No open issues assigned to you"}):l.issues.map(t=>{const P=h[t.priority]?.icon||d,B=h[t.priority]?.color||"text-gray-400";return e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"block p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx(P,{className:`w-5 h-5 mt-0.5 ${B}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs text-gray-500 font-mono",children:t.identifier}),e.jsx(N,{className:S[t.statusType]||"bg-gray-100 text-gray-700",children:t.status})]}),e.jsx("h3",{className:"font-medium text-gray-900 truncate",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-500",children:[e.jsx("span",{children:t.teamName}),t.dueDate&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"â€¢"}),e.jsxs("span",{children:["Due: ",t.dueDate]})]})]})]})]}),e.jsx(_,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]})},t._id)})})})]},l.workspaceId)),s?.lastSyncedAt&&e.jsx("div",{className:"mt-6 text-sm text-gray-500",children:e.jsxs("p",{children:["Last synced: ",new Date(s.lastSyncedAt).toLocaleString()]})})]}):e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs(n,{to:"/stats",className:"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"Back to Stats"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"w-8 h-8 text-purple-500"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Linear Tasks"})]})]}),e.jsx(a,{children:e.jsxs(o,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(m,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No Linear workspaces connected"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add a Linear workspace to start tracking your issues"}),e.jsx(n,{to:"/settings/linear",children:e.jsxs(p,{children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Configure Linear"]})})]})})]})}export{V as component};
