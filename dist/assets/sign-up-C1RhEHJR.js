import{u as g,a as y,r as a,b as j,c as b,d as w,j as e,C as v,L as N}from"./index-BiTP6UeF.js";import{B as S}from"./button-RNOw0Kg4.js";import{I as m}from"./input-C8zM_rjF.js";import{L as p}from"./label-BUooFWRZ.js";import"./index-eoGaCaxS.js";function D(){const{signIn:x}=g(),n=y(),[o,t]=a.useState(null),[s,r]=a.useState(!1),[c,h]=a.useState(!1),{data:i}=j(b(w.auth.currentUser,{}));a.useEffect(()=>{i&&c&&(console.log("User authenticated, redirecting to dashboard"),n({to:"/"}))},[i,c,n]);const f=async l=>{l.preventDefault(),t(null),r(!0);const d=new FormData(l.currentTarget);if(d.get("email")!=="josh@bywave.com.au"){t("This account is for personal use only. Sign-ups are restricted."),r(!1);return}try{await x("password",d),console.log("Sign up successful, waiting for auth state to update..."),h(!0)}catch(u){t(u instanceof Error?u.message:"Sign up failed"),r(!1)}};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-50 px-4",children:e.jsxs(v,{className:"w-full max-w-md space-y-6 p-8",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Create Account"}),e.jsx("p",{className:"text-gray-500",children:"Set up your personal dashboard account"})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"email",children:"Email"}),e.jsx(m,{id:"email",name:"email",type:"email",placeholder:"your@email.com",required:!0,disabled:s})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{htmlFor:"password",children:"Password"}),e.jsx(m,{id:"password",name:"password",type:"password",placeholder:"••••••••",required:!0,disabled:s,minLength:8})]}),e.jsx("input",{type:"hidden",name:"flow",value:"signUp"}),o&&e.jsx("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-800",children:o}),e.jsx(S,{type:"submit",className:"w-full",disabled:s,children:s?"Creating account...":"Create Account"})]}),e.jsx("div",{className:"border-t pt-4 text-center text-sm text-gray-500",children:e.jsxs("p",{children:["Already have an account?"," ",e.jsx(N,{to:"/sign-in",className:"text-blue-600 hover:underline font-medium",children:"Sign in here"})]})}),e.jsxs("div",{className:"rounded-md bg-yellow-50 p-3 text-xs text-yellow-800",children:[e.jsx("strong",{children:"Restricted Access:"})," This account is for personal use only. Only ",e.jsx("span",{className:"font-mono font-semibold",children:"josh@bywave.com.au"})," can create an account."]})]})})}export{D as component};
