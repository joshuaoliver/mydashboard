import{c as C,d as o,r as c,h as d,j as e,C as m,f as x,i as y,k as D,l as L}from"./index-BiTP6UeF.js";import{u as w}from"./useSuspenseQuery-BI5dw9cZ.js";import{B as s}from"./button-RNOw0Kg4.js";import{I as v}from"./input-C8zM_rjF.js";import{L as b}from"./label-BUooFWRZ.js";import{D as k,a as M,b as S,c as T,d as E,e as P,f as F}from"./dialog-CkvU02Kn.js";import{P as h}from"./plus-Duac9OgE.js";import{M as j}from"./map-pin-BBpS-tgj.js";import{T as I}from"./trash-2-Cg89AqxP.js";import"./index-eoGaCaxS.js";import"./index-DDYpCHIR.js";import"./Combination-DgyOTBSr.js";function J(){const{data:n}=w(C(o.locationQueries.listLocations,{})),[p,t]=c.useState(!1),[i,r]=c.useState(""),g=d(o.locationMutations.createLocation),f=d(o.locationMutations.deleteLocation),l=()=>{if(!i.trim()){alert("Enter a name");return}g({name:i.trim()}).then(()=>{r(""),t(!1)}).catch(a=>alert(a.message||"Failed"))},u=a=>{confirm("Delete this location?")&&f({id:a}).catch(N=>alert(N.message||"Failed"))};return e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Locations"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage location tags"})]}),e.jsxs(k,{open:p,onOpenChange:t,children:[e.jsx(M,{asChild:!0,children:e.jsxs(s,{children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"New Location"]})}),e.jsxs(S,{children:[e.jsxs(T,{children:[e.jsx(E,{children:"Create Location"}),e.jsx(P,{children:"Add a new location tag"})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Location Name"}),e.jsx(v,{placeholder:"Sydney, New York...",value:i,onChange:a=>r(a.target.value),onKeyDown:a=>a.key==="Enter"&&l()})]})}),e.jsxs(F,{children:[e.jsx(s,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(s,{onClick:l,children:"Create"})]})]})]})]}),n.length===0?e.jsx(m,{children:e.jsxs(x,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(j,{className:"w-12 h-12 text-gray-400 mb-4"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No locations yet"}),e.jsxs(s,{onClick:()=>t(!0),children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Create Location"]})]})}):e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:n.map(a=>e.jsxs(m,{children:[e.jsxs(y,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-blue-600"}),e.jsx(D,{className:"text-lg font-semibold",children:a.name})]}),e.jsx(s,{variant:"ghost",size:"sm",onClick:()=>u(a._id),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:e.jsx(I,{className:"w-4 h-4"})})]}),e.jsx(x,{children:e.jsxs(L,{className:"text-xs text-gray-500",children:["Created ",new Date(a.createdAt).toLocaleDateString()]})})]},a._id))})]})}export{J as component};
